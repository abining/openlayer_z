<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>test9</title>
	<script src="./package/dist/ol.js"></script>
	<link rel="stylesheet" type="text/css" href="./package/ol.css" />

	<script src="./js/mapUtils.js"></script>
	<script src="./js/init9.js"></script>
	<link rel="stylesheet" type="text/css" href="./css/style.css" />
	<link rel="stylesheet" type="text/css" href="./css/map9.css" />
</head>

<body>

	<div id="map">
		<div id="layControl" class="layControl">
			<div class="title"><label>图层列表</label></div>
			<!-- 这是一个无序列表，用于展示图层控制列表 -->
			<ul id="layerTree" class="layerTree">

			</ul>
		</div>
		<div id="mouse-position">

		</div>

	</div>

	<script>
		var map = mapinit('map', 120, 30, 9);

		// 实例化自定义的缩放控件，传入lebel，并且添加到地图中
		map.addControl(
			new ol.control.Zoom({
				zoomInTipLabel: "放大",
				zoomOutTipLabel: "缩小",
			})
		);
		//加入鹰眼效果
		var overviewMap = new ol.control.OverviewMap({
			collapsed: false,
			layers: [
				new ol.layer.Tile({
					source: new ol.source.XYZ({
						ur1: "http://t0.tianditu.gov.cn/DataServer?T=vec_w&x={x}&y={y}&l={z}&tk=2a16e0c0544e2cbee46965bee22b1f0c",
						wrapX: false,
					}),
				}),
				new ol.layer.Tile({
					source: new ol.source.XYZ({
						url: "http://t0.tianditu.gov.cn/DataServer?T=cva_w&x={x}&y={y}&l={z}&tk=2a16e0c0544e2cbee46965bee22b1f0c",
						wrapX: false,
					}),
				}),
			],
		});
		map.addControl(overviewMap);
		var layers = map.getLayers();
		console.log(layers, "layers");
		loadLayerControl(map, 'layerTree')

		// addChangeEvent(document.getElementById("layer1"), layers.item(0));
		// addChangeEvent(document.getElementById("layer2"), layers.item(1));
	</script>
</body>

</html>